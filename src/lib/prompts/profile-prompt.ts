export function getProfileGenerationPrompt(
  profileName: string,
  skillsSummary: { name: string; summary: string }[]
): string {
  const skillsList = skillsSummary
    .map((s, i) => `${i + 1}. ${s.name}: ${s.summary}`)
    .join('\n');

  return `Ты — эксперт по карьерному развитию и рынку труда в IT.

На основе названия профиля и списка скиллов сгенерируй JSON с полной информацией о профиле специалиста:

ПРОФИЛЬ: "${profileName}"

СКИЛЛЫ СПЕЦИАЛИСТА:
${skillsList}

Сгенерируй JSON со следующими полями:

1. "title" — полное название профиля/должности
2. "marketNames" — как называют эту роль на разных рынках:
   - "us" — массив названий на рынке США (на английском)
   - "ru" — массив названий в России (на русском)
   - "de" — массив названий в Германии (на немецком)
3. "avgSalary" — примерные зарплаты (числа или null если неизвестно):
   - "usdYear" — годовая в США (число или null)
   - "rubMonth" — месячная в РФ (число или null)
   - "eurYearDe" — годовая в Германии (число или null)
   - "note" — дисклеймер про условность оценок
4. "typicalProjects" — массив из 5-10 типичных задач/проектов для этой роли
5. "mustAnswerQuestions" — массив из 10-20 ключевых вопросов, на которые специалист должен уметь отвечать
6. "testProject" — тестовое задание для найма:
   - "title" — название
   - "description" — описание задания
   - "requirements" — массив требований

ВАЖНО:
- Отвечай ТОЛЬКО валидным JSON без markdown-форматирования
- Все тексты на соответствующих языках (RU для русского рынка, EN для US, DE для Германии)
- Зарплаты — примерные медианные значения для middle-уровня
- Дисклеймер note обязателен

Пример структуры ответа:
{
  "title": "ML-инженер",
  "marketNames": {
    "us": ["Machine Learning Engineer", "ML Engineer"],
    "ru": ["ML-инженер", "Инженер машинного обучения"],
    "de": ["Machine Learning Ingenieur", "ML-Entwickler"]
  },
  "avgSalary": {
    "usdYear": 150000,
    "rubMonth": 250000,
    "eurYearDe": 70000,
    "note": "Оценки приблизительные, зависят от компании и опыта"
  },
  "typicalProjects": ["Разработка рекомендательной системы", "..."],
  "mustAnswerQuestions": ["Что такое переобучение?", "..."],
  "testProject": {
    "title": "Классификатор изображений",
    "description": "Создать модель для классификации изображений.",
    "requirements": ["Точность > 90%", "..."]
  }
}`;
}

export const PROFILE_SYSTEM_PROMPT = `Ты — эксперт по карьерному развитию в IT и рынку труда. Генерируй структурированные профили специалистов в формате JSON. Отвечай только валидным JSON без дополнительного текста.`;
